{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/main.js"],"sourcesContent":["export const refs = {\n  gallery: document.querySelector('.gallery'),\n  form: document.querySelector('.form'),\n  formInput: document.querySelector('.form-input'),\n  btn: document.querySelector('.button'),\n  container: document.querySelector('.container'),\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from './js/refs';\nconst modalOptions = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  refs.gallery.innerHTML = '';\n  const userInputValue = refs.formInput.value;\n  getPixabayImages(userInputValue);\n  refs.form.reset();\n}\n\nfunction getPixabayImages(inputValue) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const PIXABAY_KEY = '?key=42339224-5f1cb7b0c825234adabadbe9d';\n  const PARAMS = `&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const url = BASE_URL + PIXABAY_KEY + PARAMS;\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        console.log(data);\n        const markup = data.hits\n          .map(data => {\n            return `<li class=\"gallery-item\">\n          <a href=\"${data.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n          <p><b>Likes: </b>${data.likes}</p>\n          <p><b>Views: </b>${data.views}</p>\n          <p><b>Comments: </b>${data.comments}</p>\n          <p><b>Downloads: </b>${data.downloads}</p>\n          </li>`;\n          })\n          .join('');\n        refs.gallery.insertAdjacentHTML('afterbegin', markup);\n        const gallery = new SimpleLightbox('.gallery a', modalOptions);\n        gallery.on('show.simplelightbox');\n        gallery.refresh();\n      }\n    })\n    .catch(error => console.log('Error:', error));\n}\n"],"names":["refs","modalOptions","onFormSubmit","event","userInputValue","getPixabayImages","inputValue","BASE_URL","PIXABAY_KEY","PARAMS","url","response","data","iziToast","markup","gallery","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,QAAS,SAAS,cAAc,UAAU,EAC1C,KAAM,SAAS,cAAc,OAAO,EACpC,UAAW,SAAS,cAAc,aAAa,EAC/C,IAAK,SAAS,cAAc,SAAS,EACrC,UAAW,SAAS,cAAc,YAAY,CAChD,ECDMC,EAAe,CACnB,aAAc,MACd,aAAc,GAChB,EAEAD,EAAK,KAAK,iBAAiB,SAAUE,CAAY,EAEjD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBH,EAAK,QAAQ,UAAY,GACzB,MAAMI,EAAiBJ,EAAK,UAAU,MACtCK,EAAiBD,CAAc,EAC/BJ,EAAK,KAAK,OACZ,CAEA,SAASK,EAAiBC,EAAY,CACpC,MAAMC,EAAW,2BACXC,EAAc,0CACdC,EAAS,MAAMH,CAAU,2DACzBI,EAAMH,EAAWC,EAAcC,EACrC,MAAMC,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,MACI,CACL,QAAQ,IAAID,CAAI,EAChB,MAAME,EAASF,EAAK,KACjB,IAAIA,GACI;AAAA,qBACEA,EAAK,aAAa;AAAA,4CACKA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA,6BACnDA,EAAK,KAAK;AAAA,6BACVA,EAAK,KAAK;AAAA,gCACPA,EAAK,QAAQ;AAAA,iCACZA,EAAK,SAAS;AAAA,gBAEpC,EACA,KAAK,EAAE,EACVZ,EAAK,QAAQ,mBAAmB,aAAcc,CAAM,EACpD,MAAMC,EAAU,IAAIC,EAAe,aAAcf,CAAY,EAC7Dc,EAAQ,GAAG,qBAAqB,EAChCA,EAAQ,QAAO,CAChB,CACP,CAAK,EACA,MAAME,GAAS,QAAQ,IAAI,SAAUA,CAAK,CAAC,CAChD"}