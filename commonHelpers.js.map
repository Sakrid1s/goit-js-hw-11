{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/css-loader.js","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const refs = {\n  gallery: document.querySelector('.gallery'),\n  form: document.querySelector('.form'),\n  formInput: document.querySelector('.form-input'),\n  btn: document.querySelector('.button'),\n  container: document.querySelector('.container'),\n};\n","import { refs } from './refs';\nexport function createLoader() {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  refs.container.append(loader);\n}\n\n// Function to hide the loader\nexport function removeLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from './refs';\nimport { removeLoader } from './css-loader';\nexport function getPixabayImages(inputValue) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const PIXABAY_KEY = '?key=42339224-5f1cb7b0c825234adabadbe9d';\n  const PARAMS = `&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const url = BASE_URL + PIXABAY_KEY + PARAMS;\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        const markup = data.hits\n          .map(data => {\n            return `<li class=\"gallery-item\">\n          <a href=\"${data.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n          <div class=\"text\">\n          <p><b>Likes: </b>${data.likes}</p>\n          <p><b>Views: </b>${data.views}</p>\n          <p><b>Comments: </b>${data.comments}</p>\n          <p><b>Downloads: </b>${data.downloads}</p>\n          </div>\n          </li>`;\n          })\n          .join('');\n        refs.gallery.insertAdjacentHTML('afterbegin', markup);\n        const gallery = new SimpleLightbox('.gallery a', modalOptions);\n        gallery.refresh();\n      }\n    })\n    .catch(error => console.log('Error:', error))\n    .finally(() => {\n      removeLoader();\n    });\n}\n\nconst modalOptions = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\n","import { refs } from './refs';\nimport { getPixabayImages } from './render-functions';\nimport { createLoader } from './css-loader';\nexport function onFormSubmit(event) {\n  event.preventDefault();\n  createLoader();\n  refs.gallery.innerHTML = '';\n  const userInputValue = refs.formInput.value;\n  getPixabayImages(userInputValue);\n  refs.form.reset();\n}\n","import { refs } from './js/refs';\nimport { onFormSubmit } from './js/pixabay-api';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n"],"names":["refs","createLoader","loader","removeLoader","getPixabayImages","inputValue","BASE_URL","PIXABAY_KEY","PARAMS","url","response","data","iziToast","markup","SimpleLightbox","modalOptions","error","onFormSubmit","event","userInputValue"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,QAAS,SAAS,cAAc,UAAU,EAC1C,KAAM,SAAS,cAAc,OAAO,EACpC,UAAW,SAAS,cAAc,aAAa,EAC/C,IAAK,SAAS,cAAc,SAAS,EACrC,UAAW,SAAS,cAAc,YAAY,CAChD,ECLO,SAASC,GAAe,CAC7B,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BF,EAAK,UAAU,OAAOE,CAAM,CAC9B,CAGO,SAASC,GAAe,CAC7B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEjB,CCPO,SAASE,EAAiBC,EAAY,CAC3C,MAAMC,EAAW,2BACXC,EAAc,0CACdC,EAAS,MAAMH,CAAU,2DACzBI,EAAMH,EAAWC,EAAcC,EACrC,MAAMC,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,MACI,CACL,MAAMC,EAASF,EAAK,KACjB,IAAIA,GACI;AAAA,qBACEA,EAAK,aAAa;AAAA,4CACKA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,6BAEnDA,EAAK,KAAK;AAAA,6BACVA,EAAK,KAAK;AAAA,gCACPA,EAAK,QAAQ;AAAA,iCACZA,EAAK,SAAS;AAAA;AAAA,gBAGpC,EACA,KAAK,EAAE,EACVX,EAAK,QAAQ,mBAAmB,aAAca,CAAM,EACpC,IAAIC,EAAe,aAAcC,CAAY,EACrD,QAAO,CAChB,CACP,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAI,SAAUA,CAAK,CAAC,EAC3C,QAAQ,IAAM,CACbb,GACN,CAAK,CACL,CAEA,MAAMY,EAAe,CACnB,aAAc,MACd,aAAc,GAChB,ECnDO,SAASE,EAAaC,EAAO,CAClCA,EAAM,eAAc,EACpBjB,IACAD,EAAK,QAAQ,UAAY,GACzB,MAAMmB,EAAiBnB,EAAK,UAAU,MACtCI,EAAiBe,CAAc,EAC/BnB,EAAK,KAAK,OACZ,CCPAA,EAAK,KAAK,iBAAiB,SAAUiB,CAAY"}